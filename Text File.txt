│ Hora en Francia (UTC+2) │ Hora In-Game (Corregida) │
  ├─────────────────────────┼──────────────────────────┤
  │ 00:00                   │ 08:00                    │
  │ 06:00                   │ 20:00                    │
  │ 12:00                   │ 10:00                    │
  │ 18:00                   │ 22:00

  La nueva estructura es:
   - `config.js`: Datos de configuración estática.
   - `dom.js`: Objeto dom.
   - `state.js`: Estado de la aplicación.
   - `utils.js`, `time.js`, `i18n.js`: Utilidades puras.
   - `canvas.js`: Renderizado y eventos del lienzo.
   - `main.js`: Orquestador central.
   - `event.html`: Carga solo main.js como módulo.


 Guía de Funcionalidades para `event.html`

  1. Relojes en Vivo:
   * Muestra la hora local del usuario.
   * Muestra la hora del juego (In-Game) para ETS2/ATS, con un emoji que cambia según sea amanecer, día, atardecer o noche.

  2. Idiomas (Internacionalización):
   * Selector de idioma con banderas para Español, Inglés y Portugués.
   * Todo el texto de la página se traduce al idioma seleccionado.
   * Usa Twemoji para que las banderas se vean igual en todos los sistemas.

  3. Regiones Horarias:
   * Un menú para seleccionar una región horaria (Hispano, Lusófono, Norteamérica, Europa).
   * Los horarios en el canvas se calculan en base a la región seleccionada.

  4. Formulario del Evento:
   * Fecha y Hora: Campos para seleccionar la fecha y hora de reunión del evento.
   * Hora de Salida: Un selector para definir cuántos minutos después de la reunión es la salida (10, 15, 30, o 45 min).
   * Detalles del Evento: Campos para el nombre del evento, un enlace, lugar de partida, destino, servidor y una descripción.

  5. Carga de Imágenes:
   * Botones para subir 6 tipos de imágenes:
       1. Mapa: La imagen principal de la ruta.
       2. Partida: Una imagen para el círculo de partida.
       3. Destino: Una imagen para el círculo de destino.
       4. Logo VTC: El logo de la empresa, que se muestra debajo del título.
       5. Fondo: Una imagen para rellenar el fondo del canvas.
       6. Detalle: Una imagen decorativa que se puede mover y escalar sobre todo lo demás.
   * Zoom: Todas las imágenes (excepto el fondo) tienen botones de zoom (+ / -).
   * Arrastre: Las imágenes del mapa y de detalle se pueden arrastrar y soltar en el canvas.

  6. Generación de la Imagen (Canvas):
   * Se genera una imagen de 1920x1080px que combina toda la información.
   * Fondo Oscuro para Texto: Todos los textos (título, información, etiquetas de partida/destino) tienen un fondo oscuro (rgb(20, 20, 20)) con una opacidad del 30% para
     asegurar la legibilidad.
   * Orden de las capas (de atrás hacia adelante):
       1. Imagen de fondo (si se sube) o color por defecto.
       2. Imagen del mapa.
       3. Marca de agua de Convoyrama.
       4. Título, logo y textos.
       5. Círculos de partida y destino.
       6. Imagen de detalle.

  7. Personalización de Texto:
   * Selectores para cambiar el tamaño y la alineación del bloque de texto principal.
   * Un selector de estilo de texto con múltiples opciones temáticas (Clásico, Convoy, Neón, Fuego, Hielo, Retro, etc.).

  8. Controles del Canvas:
   * Descargar Imagen: Guarda la imagen generada con el nombre convoy-map-DD-MM.png (usando la fecha del evento).
   * Código para Discord: Copia un texto pre-formateado con la información del evento para pegarlo en Discord.
   * Resetear Canvas: Limpia todas las imágenes cargadas y resetea el canvas.

  9. Estilo Consistente:
   * La página debe utilizar el archivo de estilos compartido ./assets/style.css para mantener una apariencia consistente con las otras páginas del sitio.

  10. Otros:
   * Un enlace de "ayuda" que abre una ventana con un cubo 3D que gira.

  ---

  Mecánicas Clave a Conservar

  Cálculo de la Hora In-Game:

   * Punto de Anclaje: 20:40 UTC.
   * Escala de Tiempo: 1:6 (1 minuto real = 6 minutos de juego).
   * Lógica: Se calcula el tiempo transcurrido desde el ancla, se escala y se ajusta a un ciclo de 24 horas.

  Advertencia sobre Horario de Verano:

   * El sistema actual no maneja automáticamente los cambios de horario de verano.

  ---

  Ahora sí, la guía está completa. ¿Me das luz verde para empezar a reescribir los archivos desde cero siguiendo este plan?


